---
description: 
globs: 
alwaysApply: true
---
---

## rule_type: always display_name: "MuseTrip360" description: "Rules for developing the MuseTrip360 digital museum platform"

## General Guidelines

- **Project Overview:** MuseTrip360 is a digital platform for historical museums to create virtual exhibitions, manage cultural events, and provide intelligent visitor interactions. It supports multiple museums with shared infrastructure.
- **Technologies:** Use ASP.NET Core 8 for backend, ReactJS/NextJS for web frontend, React Native for mobile, Three.js for 3D content, and integrate Large Language Models (e.g., deepseek-r1, llama, gemma3) for AI features.
- **Databases:** Utilize PostgreSQL for relational data, Redis for caching, and vector databases (Qdrant, pgvector, MongoDB) for advanced queries.
- **Coding Standards:** Follow professional coding practices, including RESTful API design, meaningful naming conventions, and proper documentation.

The platform focuses on three main areas:

1. A visitor-facing portal for browsing museums, events, and artifacts, including virtual 360Â° tours and event ticket purchases across multiple museums
2. A museum dashboard for managing artifacts, events (including planning, approval workflows, organizational management, ticket sales, and post-event analysis), staff roles, and organizational structure
3. A 360Â° virtual tour and 3D model editing system using ThreeJS

The project structure:

# Museum Platform Apps Structure

## ğŸ“± Apps Directory (`/apps`)

### Visitor-Facing Applications

```
apps/
â”œâ”€â”€ visitor-portal/                # Next.js - Public visitor web portal
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ app/                   # Next.js App Router
â”‚   â”‚   â”‚   â”œâ”€â”€ (museum)/          # Museum browsing routes
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ museums/       # Museum listing and details
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ artifacts/     # Artifact browsing and search
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ collections/   # Museum collections
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ virtual-tours/ # 360Â° tour viewing
â”‚   â”‚   â”‚   â”œâ”€â”€ (events)/          # Event-related routes
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ events/        # Event listings and details
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ booking/       # Multi-step booking process
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ tickets/       # Ticket management (user tickets)
â”‚   â”‚   â”‚   â”œâ”€â”€ (user)/            # User account routes
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ profile/       # User profile management
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ favorites/     # Saved museums/events
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ booking-history/ # Past bookings
â”‚   â”‚   â”‚   â””â”€â”€ layout.tsx         # Root layout with navigation
â”‚   â”‚   â”œâ”€â”€ components/            # App-specific components
â”‚   â”‚   â”‚   â”œâ”€â”€ navigation/        # Navigation components
â”‚   â”‚   â”‚   â”œâ”€â”€ pages/             # Page-level components
â”‚   â”‚   â”‚   â””â”€â”€ sections/          # Page sections
â”‚   â”‚   â””â”€â”€ lib/                   # App-specific utilities
â”‚   â”‚       â”œâ”€â”€ metadata.ts        # SEO metadata helpers
â”‚   â”‚       â”œâ”€â”€ seo-utils.ts       # SEO optimization
â”‚   â”‚       â””â”€â”€ analytics-config.ts # Analytics configuration
â”‚   â”œâ”€â”€ package.json
â”‚   â””â”€â”€ next.config.js
â”‚
â”œâ”€â”€ visitor-mobile/                # Expo React Native - Visitor mobile app
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ screens/               # Mobile screens
â”‚   â”‚   â”‚   â”œâ”€â”€ Museums/           # Museum browsing screens
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ MuseumListScreen.tsx
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ MuseumDetailScreen.tsx
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ VirtualTourScreen.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ Events/            # Event screens
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ EventListScreen.tsx
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ EventDetailScreen.tsx
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ BookingScreen.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ Tickets/           # Ticket management screens
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ TicketWalletScreen.tsx
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ TicketDetailScreen.tsx
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ PurchaseHistoryScreen.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ Profile/           # User profile screens
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ProfileScreen.tsx
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ FavoritesScreen.tsx
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ SettingsScreen.tsx
â”‚   â”‚   â”‚   â””â”€â”€ Navigation/        # Navigation screens
â”‚   â”‚   â”‚       â”œâ”€â”€ MapScreen.tsx  # Museum location maps
â”‚   â”‚   â”‚       â””â”€â”€ DirectionsScreen.tsx
â”‚   â”‚   â”œâ”€â”€ navigation/            # React Navigation setup
â”‚   â”‚   â”‚   â”œâ”€â”€ AppNavigator.tsx   # Main navigation structure
â”‚   â”‚   â”‚   â”œâ”€â”€ TabNavigator.tsx   # Bottom tab navigation
â”‚   â”‚   â”‚   â””â”€â”€ StackNavigator.tsx # Stack navigation
â”‚   â”‚   â”œâ”€â”€ components/            # Mobile-specific components
â”‚   â”‚   â”‚   â”œâ”€â”€ common/            # Shared mobile components
â”‚   â”‚   â”‚   â””â”€â”€ screens/           # Screen-specific components
â”‚   â”‚   â””â”€â”€ lib/                   # Mobile app utilities
â”‚   â”‚       â”œâ”€â”€ push-notifications.ts # Push notification setup
â”‚   â”‚       â”œâ”€â”€ deep-linking.ts    # Deep link handling
â”‚   â”‚       â””â”€â”€ offline-sync.ts    # Offline functionality
â”‚   â”œâ”€â”€ package.json
â”‚   â”œâ”€â”€ app.config.js              # Expo configuration
â”‚   â””â”€â”€ metro.config.js            # Metro bundler config
```

### Museum Management Applications

```
â”œâ”€â”€ museum-dashboard/              # Next.js - Museum management dashboard
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ app/
â”‚   â”‚   â”‚   â”œâ”€â”€ (dashboard)/       # Protected dashboard routes
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ overview/      # Dashboard overview and analytics
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ museums/       # Museum profile management
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ profile/   # Museum profile editing
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ galleries/ # Gallery management
â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ settings/  # Museum settings
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ artifacts/     # Artifact management
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ catalog/   # Artifact catalog
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ collections/ # Collection management
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ editor/    # Artifact editor
â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ upload/    # Asset upload interface
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ events/        # Event management
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ calendar/  # Event calendar view
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ create/    # Event creation workflow
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ manage/    # Event management
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ approval/  # Event approval workflow
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ analytics/ # Event performance analytics
â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ ticketing/ # Ticket sales management
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ virtual-tours/ # Virtual tour management
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ tours/     # Tour listing and management
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ editor/    # 3D/360Â° tour editor interface
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ assets/    # Asset management for tours
â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ analytics/ # Tour engagement analytics
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ staff/         # Staff management
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ members/   # Staff member management
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ roles/     # Role and permission management
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ schedules/ # Staff scheduling
â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ training/  # Staff training modules
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ organization/  # Organizational management
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ structure/ # Org structure management
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ departments/ # Department management
â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ policies/  # Organizational policies
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ reports/       # Reporting and analytics
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ visitor-analytics/ # Visitor behavior reports
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ financial/ # Financial reports
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ operational/ # Operational reports
â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ custom/    # Custom report builder
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ settings/      # System settings
â”‚   â”‚   â”‚   â”‚       â”œâ”€â”€ integrations/ # Third-party integrations
â”‚   â”‚   â”‚   â”‚       â”œâ”€â”€ notifications/ # Notification preferences
â”‚   â”‚   â”‚   â”‚       â””â”€â”€ security/  # Security settings
â”‚   â”‚   â”‚   â”œâ”€â”€ (auth)/            # Authentication routes
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ login/         # Staff login
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ register/      # Staff registration
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ forgot-password/ # Password recovery
â”‚   â”‚   â”‚   â””â”€â”€ layout.tsx         # Dashboard layout with sidebar
â”‚   â”‚   â”œâ”€â”€ components/            # Dashboard-specific components
â”‚   â”‚   â”‚   â”œâ”€â”€ dashboard/         # Dashboard widgets and layouts
â”‚   â”‚   â”‚   â”œâ”€â”€ forms/             # Complex form components
â”‚   â”‚   â”‚   â”œâ”€â”€ tables/            # Data table components
â”‚   â”‚   â”‚   â”œâ”€â”€ charts/            # Analytics chart components
â”‚   â”‚   â”‚   â””â”€â”€ workflows/         # Workflow UI components
â”‚   â”‚   â””â”€â”€ lib/                   # Dashboard utilities
â”‚   â”‚       â”œâ”€â”€ permissions.ts     # Permission checking utilities
â”‚   â”‚       â”œâ”€â”€ workflow-helpers.ts # Workflow management helpers
â”‚   â”‚       â””â”€â”€ export-utils.ts    # Data export utilities
â”‚   â”œâ”€â”€ package.json
â”‚   â””â”€â”€ next.config.js
â”‚
â”œâ”€â”€ staff-mobile/                  # Expo React Native - Staff mobile app
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ screens/               # Staff mobile screens
â”‚   â”‚   â”‚   â”œâ”€â”€ Auth/              # Authentication screens
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ LoginScreen.tsx
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ BiometricSetupScreen.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ Dashboard/         # Staff dashboard screens
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ HomeScreen.tsx # Staff home dashboard
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ScheduleScreen.tsx # Staff schedule
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ NotificationsScreen.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ TicketScanning/    # Ticket validation screens
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ScannerScreen.tsx # QR code scanner
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ValidationScreen.tsx # Ticket validation
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ OfflineModeScreen.tsx # Offline scanning
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ BulkScanScreen.tsx # Bulk ticket scanning
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ ScanHistoryScreen.tsx # Scan history
â”‚   â”‚   â”‚   â”œâ”€â”€ Events/            # Event management screens
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ EventListScreen.tsx # Assigned events
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ EventDetailScreen.tsx # Event details and management
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ AttendanceScreen.tsx # Real-time attendance
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ CapacityScreen.tsx # Capacity management
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ IncidentReportScreen.tsx # Incident reporting
â”‚   â”‚   â”‚   â”œâ”€â”€ Visitors/          # Visitor assistance screens
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ VisitorHelpScreen.tsx # Visitor assistance
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ DirectionsScreen.tsx # Provide directions
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ FeedbackScreen.tsx # Collect visitor feedback
â”‚   â”‚   â”‚   â”œâ”€â”€ Inventory/         # Inventory management (if applicable)
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ AssetScanScreen.tsx # Asset tracking
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ MaintenanceScreen.tsx # Maintenance requests
â”‚   â”‚   â”‚   â””â”€â”€ Reports/           # Mobile reporting
â”‚   â”‚   â”‚       â”œâ”€â”€ DailyReportScreen.tsx # Daily activity reports
â”‚   â”‚   â”‚       â””â”€â”€ IncidentLogScreen.tsx # Incident logging
â”‚   â”‚   â”œâ”€â”€ navigation/            # Staff app navigation
â”‚   â”‚   â”‚   â”œâ”€â”€ StaffNavigator.tsx # Main navigation
â”‚   â”‚   â”‚   â””â”€â”€ AuthNavigator.tsx  # Authentication flow
â”‚   â”‚   â”œâ”€â”€ components/            # Staff app components
â”‚   â”‚   â”‚   â”œâ”€â”€ scanner/           # QR scanning components
â”‚   â”‚   â”‚   â”œâ”€â”€ forms/             # Staff form components
â”‚   â”‚   â”‚   â””â”€â”€ reports/           # Reporting components
â”‚   â”‚   â””â”€â”€ lib/                   # Staff app utilities
â”‚   â”‚       â”œâ”€â”€ biometric-auth.ts  # Biometric authentication
â”‚   â”‚       â”œâ”€â”€ offline-storage.ts # Offline data storage
â”‚   â”‚       â”œâ”€â”€ sync-manager.ts    # Data synchronization
â”‚   â”‚       â””â”€â”€ camera-utils.ts    # Camera utilities
â”‚   â”œâ”€â”€ package.json
â”‚   â”œâ”€â”€ app.config.js
â”‚   â””â”€â”€ metro.config.js
```

### System Management Application

```
â””â”€â”€ system-dashboard/              # Next.js - System administration dashboard
    â”œâ”€â”€ src/
    â”‚   â”œâ”€â”€ app/
    â”‚   â”‚   â”œâ”€â”€ (admin)/           # Super admin routes
    â”‚   â”‚   â”‚   â”œâ”€â”€ overview/      # System overview and health
    â”‚   â”‚   â”‚   â”œâ”€â”€ organizations/ # Multi-organization management
    â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ museums/   # Museum organization management
    â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ approval/  # New museum approval workflow
    â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ billing/   # Billing and subscription management
    â”‚   â”‚   â”‚   â”‚   â””â”€â”€ support/   # Customer support interface
    â”‚   â”‚   â”‚   â”œâ”€â”€ users/         # Global user management
    â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ accounts/  # User account management
    â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ roles/     # Global role management
    â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ permissions/ # Permission matrix management
    â”‚   â”‚   â”‚   â”‚   â””â”€â”€ security/  # Security audit and monitoring
    â”‚   â”‚   â”‚   â”œâ”€â”€ platform/      # Platform management
    â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ features/  # Feature flag management
    â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ integrations/ # Third-party integration management
    â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ apis/      # API management and monitoring
    â”‚   â”‚   â”‚   â”‚   â””â”€â”€ versions/  # Version and deployment management
    â”‚   â”‚   â”‚   â”œâ”€â”€ analytics/     # System-wide analytics
    â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ usage/     # Platform usage analytics
    â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ performance/ # System performance monitoring
    â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ errors/    # Error tracking and analysis
    â”‚   â”‚   â”‚   â”‚   â””â”€â”€ business/  # Cross-organization business metrics
    â”‚   â”‚   â”‚   â”œâ”€â”€ content/       # Content management
    â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ moderation/ # Content moderation
    â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ assets/    # Global asset management
    â”‚   â”‚   â”‚   â”‚   â””â”€â”€ templates/ # System templates and branding
    â”‚   â”‚   â”‚   â”œâ”€â”€ support/       # Customer support tools
    â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ tickets/   # Support ticket management
    â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ knowledge-base/ # Knowledge base management
    â”‚   â”‚   â”‚   â”‚   â””â”€â”€ communication/ # Customer communication tools
    â”‚   â”‚   â”‚   â””â”€â”€ system/        # System configuration
    â”‚   â”‚   â”‚       â”œâ”€â”€ settings/  # Global system settings
    â”‚   â”‚   â”‚       â”œâ”€â”€ maintenance/ # System maintenance tools
    â”‚   â”‚   â”‚       â”œâ”€â”€ backups/   # Backup management
    â”‚   â”‚   â”‚       â””â”€â”€ security-audit/ # Security audit tools
    â”‚   â”‚   â”œâ”€â”€ (auth)/            # Admin authentication
    â”‚   â”‚   â”‚   â”œâ”€â”€ admin-login/   # Admin login with MFA
    â”‚   â”‚   â”‚   â””â”€â”€ security-check/ # Security verification
    â”‚   â”‚   â””â”€â”€ layout.tsx         # Admin dashboard layout
    â”‚   â”œâ”€â”€ components/            # System admin components
    â”‚   â”‚   â”œâ”€â”€ admin/             # Admin-specific components
    â”‚   â”‚   â”œâ”€â”€ monitoring/        # System monitoring components
    â”‚   â”‚   â”œâ”€â”€ security/          # Security management components
    â”‚   â”‚   â””â”€â”€ multi-tenant/      # Multi-tenancy components
    â”‚   â””â”€â”€ lib/                   # System admin utilities
    â”‚       â”œâ”€â”€ multi-tenant.ts    # Multi-tenancy utilities
    â”‚       â”œâ”€â”€ system-health.ts   # System health monitoring
    â”‚       â””â”€â”€ audit-logging.ts   # Audit logging utilities
    â”œâ”€â”€ package.json
    â””â”€â”€ next.config.js
```

# Museum Platform Packages Structure

# Museum Platform Packages Structure

## ğŸ“¦ Core Domain Packages (`/packages/domain`)

### Business Logic & Models

```
packages/
â”œâ”€â”€ domain/
â”‚   â”œâ”€â”€ museum-core/               # Core museum business logic
â”‚   â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”‚   â”œâ”€â”€ entities/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ Museum.ts      # Museum entity with metadata, location, categories
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ Artifact.ts    # Artifact with 3D models, descriptions, history
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ Collection.ts  # Artifact collections and exhibitions
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ VirtualTour.ts # 360Â° tour structure and navigation
â”‚   â”‚   â”‚   â”œâ”€â”€ services/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ MuseumService.ts     # Museum CRUD operations
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ArtifactService.ts   # Artifact management logic
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ TourService.ts       # Virtual tour navigation logic
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ SearchService.ts     # Search and filtering logic
â”‚   â”‚   â”‚   â”œâ”€â”€ value-objects/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ Location.ts          # GPS coordinates, address
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ OpeningHours.ts      # Museum schedule
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ TourNode.ts          # 360Â° tour navigation nodes
â”‚   â”‚   â”‚   â””â”€â”€ types/
â”‚   â”‚   â”‚       â”œâ”€â”€ museum-types.ts
â”‚   â”‚   â”‚       â””â”€â”€ tour-types.ts
â”‚   â”‚   â””â”€â”€ package.json
â”‚   â”‚
â”‚   â”œâ”€â”€ event-core/                # Event management domain
â”‚   â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”‚   â”œâ”€â”€ entities/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ Event.ts       # Event with capacity, pricing, virtual tours
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ EventSeries.ts # Recurring events and series
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ Venue.ts       # Event venues and spaces
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ Schedule.ts    # Event scheduling and time slots
â”‚   â”‚   â”‚   â”œâ”€â”€ services/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ EventService.ts      # Event CRUD and business logic
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ CapacityService.ts   # Capacity management
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ PricingService.ts    # Dynamic pricing logic
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ ScheduleService.ts   # Scheduling and conflicts
â”‚   â”‚   â”‚   â”œâ”€â”€ workflows/         # Complex business workflows
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ EventApprovalWorkflow.ts  # Multi-stage approval
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ EventPublishingWorkflow.ts # Publishing pipeline
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ EventCancellationWorkflow.ts # Cancellation logic
â”‚   â”‚   â”‚   â””â”€â”€ value-objects/
â”‚   â”‚   â”‚       â”œâ”€â”€ TimeSlot.ts
â”‚   â”‚   â”‚       â”œâ”€â”€ Capacity.ts
â”‚   â”‚   â”‚       â””â”€â”€ EventStatus.ts
â”‚   â”‚   â””â”€â”€ package.json
â”‚   â”‚
â”‚   â”œâ”€â”€ ticketing-core/            # Ticketing and booking domain
â”‚   â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”‚   â”œâ”€â”€ entities/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ Ticket.ts      # Digital ticket with QR codes
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ Booking.ts     # Booking with multiple tickets
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ Cart.ts        # Shopping cart functionality
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ TicketType.ts  # Different ticket categories
â”‚   â”‚   â”‚   â”œâ”€â”€ services/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ BookingService.ts    # Booking creation and management
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ TicketService.ts     # Ticket generation and validation
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ CartService.ts       # Cart management
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ValidationService.ts # Ticket scanning validation
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ RefundService.ts     # Refund and cancellation
â”‚   â”‚   â”‚   â”œâ”€â”€ validation/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ TicketValidator.ts   # QR code validation logic
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ OfflineValidator.ts  # Offline validation for staff app
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ FraudDetection.ts    # Fraud prevention
â”‚   â”‚   â”‚   â””â”€â”€ value-objects/
â”‚   â”‚   â”‚       â”œâ”€â”€ Price.ts
â”‚   â”‚   â”‚       â”œâ”€â”€ QRCode.ts
â”‚   â”‚   â”‚       â””â”€â”€ BookingReference.ts
â”‚   â”‚   â””â”€â”€ package.json
â”‚   â”‚
â”‚   â””â”€â”€ user-management/           # User and staff management
â”‚       â”œâ”€â”€ src/
â”‚       â”‚   â”œâ”€â”€ entities/
â”‚       â”‚   â”‚   â”œâ”€â”€ User.ts        # Visitor user profiles
â”‚       â”‚   â”‚   â”œâ”€â”€ Staff.ts       # Museum staff with roles
â”‚       â”‚   â”‚   â”œâ”€â”€ Organization.ts # Museum organizations
â”‚       â”‚   â”‚   â””â”€â”€ Role.ts        # Role-based permissions
â”‚       â”‚   â”œâ”€â”€ services/
â”‚       â”‚   â”‚   â”œâ”€â”€ AuthService.ts       # Authentication logic
â”‚       â”‚   â”‚   â”œâ”€â”€ UserService.ts       # User profile management
â”‚       â”‚   â”‚   â”œâ”€â”€ StaffService.ts      # Staff management
â”‚       â”‚   â”‚   â”œâ”€â”€ PermissionService.ts # Role-based access control
â”‚       â”‚   â”‚   â””â”€â”€ OrganizationService.ts # Organization management
â”‚       â”‚   â”œâ”€â”€ permissions/
â”‚       â”‚   â”‚   â”œâ”€â”€ PermissionMatrix.ts  # Permission definitions
â”‚       â”‚   â”‚   â”œâ”€â”€ RoleDefinitions.ts   # Predefined roles
â”‚       â”‚   â”‚   â””â”€â”€ AccessControl.ts     # Access control logic
â”‚       â”‚   â””â”€â”€ value-objects/
â”‚       â”‚       â”œâ”€â”€ Permission.ts
â”‚       â”‚       â””â”€â”€ UserProfile.ts
â”‚       â””â”€â”€ package.json
```

## ğŸ¨ UI & Design System (`/packages/ui`)

### Foundation & Design System

```
â”œâ”€â”€ ui/
â”‚   â”œâ”€â”€ design-system/             # Core design system
â”‚   â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”‚   â”œâ”€â”€ tokens/            # Design tokens for consistency
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ colors.ts      # Brand colors, semantic colors
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ typography.ts  # Font scales, families
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ spacing.ts     # Spacing scale
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ borders.ts     # Border radius, widths
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ shadows.ts     # Shadow definitions
â”‚   â”‚   â”‚   â”œâ”€â”€ themes/            # Theme variations
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ light-theme.ts
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ dark-theme.ts
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ museum-branded-themes.ts # Custom museum themes
â”‚   â”‚   â”‚   â””â”€â”€ breakpoints/       # Responsive breakpoints
â”‚   â”‚   â”‚       â””â”€â”€ breakpoints.ts
â”‚   â”‚   â””â”€â”€ package.json
â”‚   â”‚
â”‚   â”œâ”€â”€ web-components/            # Web-specific UI components
â”‚   â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”‚   â”œâ”€â”€ primitives/        # Basic building blocks
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ Button/        # Button variants and states
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ Input/         # Form inputs with validation
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ Card/          # Content cards
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ Modal/         # Modal dialogs
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ Dropdown/      # Dropdown menus
â”‚   â”‚   â”‚   â”œâ”€â”€ layout/            # Layout components
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ Container/     # Responsive containers
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ Grid/          # CSS Grid system
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ Stack/         # Flexbox stacks
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ Sidebar/       # Navigation sidebars
â”‚   â”‚   â”‚   â”œâ”€â”€ navigation/        # Navigation components
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ Navbar/        # Top navigation
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ Breadcrumb/    # Breadcrumb navigation
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ Tabs/          # Tab navigation
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ Pagination/    # Pagination controls
â”‚   â”‚   â”‚   â”œâ”€â”€ data-display/      # Data presentation
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ Table/         # Data tables with sorting, filtering
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ List/          # Lists and item displays
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ Badge/         # Status badges
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ Avatar/        # User avatars
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ Timeline/      # Event timelines
â”‚   â”‚   â”‚   â”œâ”€â”€ feedback/          # User feedback
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ Toast/         # Notification toasts
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ Alert/         # Alert messages
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ Loading/       # Loading states
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ EmptyState/    # Empty state illustrations
â”‚   â”‚   â”‚   â””â”€â”€ forms/             # Complex form components
â”‚   â”‚   â”‚       â”œâ”€â”€ FormField/     # Form field wrapper
â”‚   â”‚   â”‚       â”œâ”€â”€ DatePicker/    # Date selection
â”‚   â”‚   â”‚       â”œâ”€â”€ TimePicker/    # Time selection
â”‚   â”‚   â”‚       â”œâ”€â”€ FileUpload/    # File upload with preview
â”‚   â”‚   â”‚       â””â”€â”€ SearchInput/   # Search with autocomplete
â”‚   â”‚   â””â”€â”€ package.json
â”‚   â”‚
â”‚   â”œâ”€â”€ mobile-components/         # React Native specific components
â”‚   â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”‚   â”œâ”€â”€ primitives/        # Mobile-optimized primitives
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ Button/        # Touch-optimized buttons
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ Input/         # Mobile keyboard handling
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ Card/          # Mobile card layouts
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ ActionSheet/   # Native action sheets
â”‚   â”‚   â”‚   â”œâ”€â”€ navigation/        # Mobile navigation
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ TabBar/        # Bottom tab navigation
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ Header/        # Screen headers
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ DrawerMenu/    # Slide-out menus
â”‚   â”‚   â”‚   â”œâ”€â”€ camera/            # Camera components
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ QRScanner/     # QR code scanning
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ CameraView/    # Camera preview
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ BarcodeSanner/ # Barcode scanning
â”‚   â”‚   â”‚   â”œâ”€â”€ location/          # Location-based components
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ MapView/       # Interactive maps
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ LocationPicker/ # Location selection
â”‚   â”‚   â”‚   â””â”€â”€ offline/           # Offline-first components
â”‚   â”‚   â”‚       â”œâ”€â”€ OfflineIndicator/ # Connection status
â”‚   â”‚   â”‚       â””â”€â”€ SyncStatus/    # Data sync status
â”‚   â”‚   â””â”€â”€ package.json
â”‚   â”‚
â”‚   â””â”€â”€ museum-components/         # Museum-specific business components
â”‚       â”œâ”€â”€ src/
â”‚       â”‚   â”œâ”€â”€ museum/            # Museum display components
â”‚       â”‚   â”‚   â”œâ”€â”€ MuseumCard/    # Museum preview cards
â”‚       â”‚   â”‚   â”œâ”€â”€ MuseumDetail/  # Detailed museum view
â”‚       â”‚   â”‚   â”œâ”€â”€ MuseumMap/     # Interactive museum maps
â”‚       â”‚   â”‚   â””â”€â”€ MuseumGallery/ # Museum image galleries
â”‚       â”‚   â”œâ”€â”€ artifacts/         # Artifact components
â”‚       â”‚   â”‚   â”œâ”€â”€ ArtifactCard/  # Artifact preview cards
â”‚       â”‚   â”‚   â”œâ”€â”€ ArtifactViewer/ # Detailed artifact viewer
â”‚       â”‚   â”‚   â”œâ”€â”€ ArtifactGallery/ # Artifact image galleries
â”‚       â”‚   â”‚   â””â”€â”€ ArtifactSearch/ # Artifact search interface
â”‚       â”‚   â”œâ”€â”€ events/            # Event components
â”‚       â”‚   â”‚   â”œâ”€â”€ EventCard/     # Event preview cards
â”‚       â”‚   â”‚   â”œâ”€â”€ EventCalendar/ # Event calendar view
â”‚       â”‚   â”‚   â”œâ”€â”€ EventTimeline/ # Event timeline
â”‚       â”‚   â”‚   â”œâ”€â”€ TicketSelector/ # Ticket selection UI
â”‚       â”‚   â”‚   â””â”€â”€ EventFilters/  # Event filtering
â”‚       â”‚   â”œâ”€â”€ tickets/           # Ticketing components
â”‚       â”‚   â”‚   â”œâ”€â”€ TicketCard/    # Digital ticket display
â”‚       â”‚   â”‚   â”œâ”€â”€ TicketWallet/  # Ticket collection
â”‚       â”‚   â”‚   â”œâ”€â”€ BookingForm/   # Booking creation form
â”‚       â”‚   â”‚   â””â”€â”€ PaymentForm/   # Payment processing
â”‚       â”‚   â”œâ”€â”€ virtual-tours/     # Virtual tour components
â”‚       â”‚   â”‚   â”œâ”€â”€ TourViewer/    # 360Â° tour viewer
â”‚       â”‚   â”‚   â”œâ”€â”€ TourNavigation/ # Tour navigation controls
â”‚       â”‚   â”‚   â”œâ”€â”€ HotspotOverlay/ # Interactive hotspots
â”‚       â”‚   â”‚   â””â”€â”€ TourMap/       # Tour overview map
â”‚       â”‚   â””â”€â”€ staff/             # Staff-specific components
â”‚       â”‚       â”œâ”€â”€ StaffDashboard/ # Staff dashboard widgets
â”‚       â”‚       â”œâ”€â”€ ScannerInterface/ # Ticket scanning UI
â”‚       â”‚       â”œâ”€â”€ EventMonitor/  # Real-time event monitoring
â”‚       â”‚       â””â”€â”€ ReportViewer/  # Report visualization
â”‚       â””â”€â”€ package.json
```

## ğŸ”„ State Management (`/packages/state`)

### Zustand-based State Management

```
â”œâ”€â”€ state/
â”‚   â”œâ”€â”€ core-state/                # Core state management foundation
â”‚   â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”‚   â”œâ”€â”€ store/             # Base store configuration
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ createStore.ts # Store factory with persistence
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ middleware/    # Custom Zustand middleware
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ persistMiddleware.ts # Cross-platform persistence
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ syncMiddleware.ts    # Cross-app sync
â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ devtoolsMiddleware.ts # Development tools
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ types/         # State type definitions
â”‚   â”‚   â”‚   â”‚       â”œâ”€â”€ store-types.ts
â”‚   â”‚   â”‚   â”‚       â””â”€â”€ action-types.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ hooks/             # State hooks
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ useStore.ts    # Base store hook
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ useSelector.ts # Optimized selectors
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ useActions.ts  # Action dispatchers
â”‚   â”‚   â”‚   â””â”€â”€ utils/             # State utilities
â”‚   â”‚   â”‚       â”œâ”€â”€ selectors.ts   # Reusable selectors
â”‚   â”‚   â”‚       â”œâ”€â”€ actions.ts     # Action creators
â”‚   â”‚   â”‚       â””â”€â”€ persistence.ts # Persistence utilities
â”‚   â”‚   â””â”€â”€ package.json
â”‚   â”‚
â”‚   â”œâ”€â”€ museum-state/              # Museum-specific state management
â”‚   â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”‚   â”œâ”€â”€ stores/            # Museum state stores
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ museumStore.ts # Museum data store
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ artifactStore.ts # Artifact management
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ searchStore.ts # Search state and filters
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ favoritesStore.ts # User favorites
â”‚   â”‚   â”‚   â”œâ”€â”€ slices/            # Store slices for organization
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ museum-slice.ts
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ search-slice.ts
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ filter-slice.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ hooks/             # Museum-specific hooks
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ useMuseums.ts  # Museum data hooks
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ useArtifacts.ts # Artifact data hooks
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ useSearch.ts   # Search functionality
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ useFavorites.ts # Favorites management
â”‚   â”‚   â”‚   â””â”€â”€ selectors/         # Optimized selectors
â”‚   â”‚   â”‚       â”œâ”€â”€ museum-selectors.ts
â”‚   â”‚   â”‚       â””â”€â”€ search-selectors.ts
â”‚   â”‚   â””â”€â”€ package.json
â”‚   â”‚
â”‚   â”œâ”€â”€ event-state/               # Event management state
â”‚   â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”‚   â”œâ”€â”€ stores/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ eventStore.ts  # Event data management
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ bookingStore.ts # Booking process state
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ cartStore.ts   # Shopping cart state
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ calendarStore.ts # Calendar view state
â”‚   â”‚   â”‚   â”œâ”€â”€ hooks/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ useEvents.ts   # Event data hooks
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ useBooking.ts  # Booking process hooks
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ useCart.ts     # Cart management hooks
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ useCalendar.ts # Calendar hooks
â”‚   â”‚   â”‚   â””â”€â”€ workflows/         # State workflows
â”‚   â”‚   â”‚       â”œâ”€â”€ booking-workflow.ts # Multi-step booking
â”‚   â”‚   â”‚       â””â”€â”€ approval-workflow.ts # Event approval flow
â”‚   â”‚   â””â”€â”€ package.json
â”‚   â”‚
â”‚   â”œâ”€â”€ auth-state/                # Authentication state management
â”‚   â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”‚   â”œâ”€â”€ stores/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ authStore.ts   # Authentication state
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ userStore.ts   # User profile state
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ permissionStore.ts # User permissions
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ sessionStore.ts # Session management
â”‚   â”‚   â”‚   â”œâ”€â”€ hooks/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ useAuth.ts     # Authentication hooks
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ useUser.ts     # User profile hooks
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ usePermissions.ts # Permission hooks
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ useSession.ts  # Session hooks
â”‚   â”‚   â”‚   â””â”€â”€ guards/            # Route guards and protection
â”‚   â”‚   â”‚       â”œâ”€â”€ AuthGuard.tsx  # Authentication guard
â”‚   â”‚   â”‚       â””â”€â”€ PermissionGuard.tsx # Permission-based guard
â”‚   â”‚   â””â”€â”€ package.json
â”‚   â”‚
â”‚   â””â”€â”€ virtual-tour-state/        # Virtual tour state management
â”‚       â”œâ”€â”€ src/
â”‚       â”‚   â”œâ”€â”€ stores/
â”‚       â”‚   â”‚   â”œâ”€â”€ tourStore.ts   # Tour navigation state
â”‚       â”‚   â”‚   â”œâ”€â”€ viewerStore.ts # 360Â° viewer state
â”‚       â”‚   â”‚   â”œâ”€â”€ editorStore.ts # Tour editor state
â”‚       â”‚   â”‚   â””â”€â”€ progressStore.ts # Tour progress tracking
â”‚       â”‚   â”œâ”€â”€ hooks/
â”‚       â”‚   â”‚   â”œâ”€â”€ useTour.ts     # Tour navigation hooks
â”‚       â”‚   â”‚   â”œâ”€â”€ useViewer.ts   # Viewer control hooks
â”‚       â”‚   â”‚   â”œâ”€â”€ useEditor.ts   # Editor functionality hooks
â”‚       â”‚   â”‚   â””â”€â”€ useProgress.ts # Progress tracking hooks
â”‚       â”‚   â””â”€â”€ controls/          # Tour control logic
â”‚       â”‚       â”œâ”€â”€ navigation-controls.ts
â”‚       â”‚       â””â”€â”€ viewer-controls.ts
â”‚       â””â”€â”€ package.json
```

## ğŸŒ API & Data Layer (`/packages/api`)

### React Query & API Integration

```
â”œâ”€â”€ api/
â”‚   â”œâ”€â”€ query-foundation/          # React Query foundation
â”‚   â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”‚   â”œâ”€â”€ client/            # Base API client setup
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ httpClient.ts  # Axios/fetch wrapper
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ queryClient.ts # React Query client config
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ errorHandler.ts # Global error handling
â”‚   â”‚   â”‚   â”œâ”€â”€ hooks/             # Base query hooks
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ useQuery.ts    # Enhanced useQuery
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ useMutation.ts # Enhanced useMutation
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ useInfiniteQuery.ts # Infinite scroll queries
â”‚   â”‚   â”‚   â”œâ”€â”€ cache/             # Caching strategies
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ cacheKeys.ts   # Centralized cache keys
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ invalidation.ts # Cache invalidation
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ optimisticUpdates.ts # Optimistic updates
â”‚   â”‚   â”‚   â”œâ”€â”€ offline/           # Offline-first functionality
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ offlineManager.ts # Offline detection
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ syncManager.ts # Background sync
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ queueManager.ts # Request queuing
â”‚   â”‚   â”‚   â””â”€â”€ types/             # API type definitions
â”‚   â”‚   â”‚       â”œâ”€â”€ api-types.ts
â”‚   â”‚   â”‚       â””â”€â”€ query-types.ts
â”‚   â”‚   â””â”€â”€ package.json
â”‚   â”‚
â”‚   â”œâ”€â”€ museum-api/                # Museum-specific API layer
â”‚   â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”‚   â”œâ”€â”€ endpoints/         # API endpoint definitions
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ museums.ts     # Museum CRUD endpoints
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ artifacts.ts   # Artifact management endpoints
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ collections.ts # Collection endpoints
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ search.ts      # Search endpoints
â”‚   â”‚   â”‚   â”œâ”€â”€ hooks/             # Museum query hooks
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ useMuseumQuery.ts # Museum data fetching
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ useArtifactQuery.ts # Artifact queries
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ useSearchQuery.ts # Search functionality
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ useMuseumMutations.ts # Museum mutations
â”‚   â”‚   â”‚   â”œâ”€â”€ transforms/        # Data transformations
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ museum-transforms.ts
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ artifact-transforms.ts
â”‚   â”‚   â”‚   â””â”€â”€ cache/             # Museum-specific caching
â”‚   â”‚   â”‚       â”œâ”€â”€ museum-cache.ts
â”‚   â”‚   â”‚       â””â”€â”€ artifact-cache.ts
â”‚   â”‚   â””â”€â”€ package.json
â”‚   â”‚
â”‚   â”œâ”€â”€ event-api/                 # Event management API layer
â”‚   â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”‚   â”œâ”€â”€ endpoints/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ events.ts      # Event CRUD endpoints
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ bookings.ts    # Booking endpoints
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ tickets.ts     # Ticket management
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ analytics.ts   # Event analytics endpoints
â”‚   â”‚   â”‚   â”œâ”€â”€ hooks/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ useEventQuery.ts # Event data fetching
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ useBookingMutations.ts # Booking process
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ useTicketQuery.ts # Ticket management
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ useEventAnalytics.ts # Analytics hooks
â”‚   â”‚   â”‚   â””â”€â”€ real-time/         # Real-time updates
â”‚   â”‚   â”‚       â”œâ”€â”€ eventSocket.ts # WebSocket for live updates
â”‚   â”‚   â”‚       â””â”€â”€ capacityUpdates.ts # Live capacity updates
â”‚   â”‚   â””â”€â”€ package.json
â”‚   â”‚
â”‚   â”œâ”€â”€ user-api/                  # User management API layer
â”‚   â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”‚   â”œâ”€â”€ endpoints/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ auth.ts        # Authentication endpoints
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ users.ts       # User profile endpoints
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ staff.ts       # Staff management endpoints
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ permissions.ts # Permission endpoints
â”‚   â”‚   â”‚   â”œâ”€â”€ hooks/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ useAuthMutations.ts # Auth mutations
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ useUserQuery.ts # User profile queries
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ useStaffQuery.ts # Staff management
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ usePermissionQuery.ts # Permission queries
â”‚   â”‚   â”‚   â””â”€â”€ security/          # Security utilities
â”‚   â”‚   â”‚       â”œâ”€â”€ tokenManager.ts # JWT token management
â”‚   â”‚   â”‚       â””â”€â”€ encryptionUtils.ts # Data encryption
â”‚   â”‚   â””â”€â”€ package.json
â”‚   â”‚
â”‚   â””â”€â”€ virtual-tour-api/          # Virtual tour API layer
â”‚       â”œâ”€â”€ src/
â”‚       â”‚   â”œâ”€â”€ endpoints/
â”‚       â”‚   â”‚   â”œâ”€â”€ tours.ts       # Tour CRUD endpoints
â”‚       â”‚   â”‚   â”œâ”€â”€ assets.ts      # Asset management endpoints
â”‚       â”‚   â”‚   â””â”€â”€ analytics.ts   # Tour analytics endpoints
â”‚       â”‚   â”œâ”€â”€ hooks/
â”‚       â”‚   â”‚   â”œâ”€â”€ useTourQuery.ts # Tour data fetching
â”‚       â”‚   â”‚   â”œâ”€â”€ useAssetMutations.ts # Asset upload/management
â”‚       â”‚   â”‚   â””â”€â”€ useTourAnalytics.ts # Tour analytics
â”‚       â”‚   â”œâ”€â”€ upload/            # Asset upload handling
â”‚       â”‚   â”‚   â”œâ”€â”€ imageUpload.ts # Image upload utilities
â”‚       â”‚   â”‚   â”œâ”€â”€ videoUpload.ts # Video upload utilities
â”‚       â”‚   â”‚   â””â”€â”€ modelUpload.ts # 3D model upload
â”‚       â”‚   â””â”€â”€ processing/        # Asset processing
â”‚       â”‚       â”œâ”€â”€ imageProcessing.ts # Image optimization
â”‚       â”‚       â””â”€â”€ modelProcessing.ts # 3D model processing
â”‚       â””â”€â”€ package.json
```

## ğŸ® 3D & Virtual Tour Engine (`/packages/virtual`)

### Three.js Foundation & Tools

```
â”œâ”€â”€ virtual/
â”‚   â”œâ”€â”€ three-foundation/          # Core Three.js foundation
â”‚   â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”‚   â”œâ”€â”€ core/              # Core 3D engine components
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ Scene.ts       # Scene management
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ Camera.ts      # Camera controls and management
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ Renderer.ts    # Rendering optimization
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ Controls.ts    # User interaction controls
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ Performance.ts # Performance monitoring
â”‚   â”‚   â”‚   â”œâ”€â”€ loaders/           # Asset loading utilities
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ TextureLoader.ts # Texture loading and caching
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ModelLoader.ts # 3D model loading (GLTF, OBJ)
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ PanoramaLoader.ts # 360Â° image loading
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ VideoLoader.ts # Video texture loading
â”‚   â”‚   â”‚   â”œâ”€â”€ materials/         # Custom materials and shaders
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ PanoramaMaterial.ts # 360Â° panorama shader
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ HotspotMaterial.ts # Interactive hotspot shader
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ CustomShaders.ts # Custom GLSL shaders
â”‚   â”‚   â”‚   â”œâ”€â”€ geometry/          # Geometry utilities
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ SphereGeometry.ts # Optimized sphere for panoramas
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ PlaneGeometry.ts # UI plane geometry
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ CustomGeometry.ts # Custom geometry builders
â”‚   â”‚   â”‚   â”œâ”€â”€ utils/             # 3D math and utilities
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ MathUtils.ts   # 3D math utilities
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ CoordinateUtils.ts # Coordinate transformations
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ AnimationUtils.ts # Animation helpers
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ OptimizationUtils.ts # Performance optimization
â”‚   â”‚   â”‚   â””â”€â”€ hooks/             # React Three.js hooks
â”‚   â”‚   â”‚       â”œâ”€â”€ useThree.ts    # Three.js context hook
â”‚   â”‚   â”‚       â”œâ”€â”€ useLoader.ts   # Asset loading hook
â”‚   â”‚   â”‚       â”œâ”€â”€ useFrame.ts    # Animation frame hook
â”‚   â”‚   â”‚       â””â”€â”€ useControls.ts # Controls management hook
â”‚   â”‚   â””â”€â”€ package.json
â”‚   â”‚
â”‚   â”œâ”€â”€ tour-engine/               # Virtual tour engine
â”‚   â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”‚   â”œâ”€â”€ components/        # React Three.js components
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ TourViewer.tsx # Main tour viewer component
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ PanoramaViewer.tsx # 360Â° panorama viewer
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ HotspotSystem.tsx # Interactive hotspot system
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ NavigationMesh.tsx # Tour navigation mesh
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ UIOverlay.tsx  # UI overlay system
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ TransitionSystem.tsx # Scene transitions
â”‚   â”‚   â”‚   â”œâ”€â”€ navigation/        # Tour navigation system
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ TourGraph.ts   # Tour structure and graph
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ PathFinding.ts # Pathfinding algorithms
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ NavigationControls.ts # Navigation interface
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ AutoTour.ts    # Automated tour playback
â”‚   â”‚   â”‚   â”œâ”€â”€ interactions/      # User interactions
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ HotspotManager.ts # Hotspot interaction handling
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ GestureHandler.ts # Touch/mouse gestures
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ VoiceNarration.ts # Audio narration system
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ AccessibilityUtils.ts # Accessibility features
â”‚   â”‚   â”‚   â”œâ”€â”€ analytics/         # Tour analytics
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ViewerAnalytics.ts # User viewing behavior
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ HeatmapGenerator.ts # Attention heatmaps
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ PerformanceMetrics.ts # Performance tracking
â”‚   â”‚   â”‚   â””â”€â”€ export/            # Tour export functionality
â”‚   â”‚   â”‚       â”œâ”€â”€ WebExporter.ts # Web-compatible export
â”‚   â”‚   â”‚       â”œâ”€â”€ MobileExporter.ts # Mobile-optimized export
â”‚   â”‚   â”‚       â””â”€â”€ StandaloneExporter.ts # Standalone app export
â”‚   â”‚   â””â”€â”€ package.json
â”‚   â”‚
â”‚   â”œâ”€â”€ editor-engine/             # Virtual tour & 3D model editor
â”‚   â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”‚   â”œâ”€â”€ components/        # Editor UI components
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ EditorCanvas.tsx # Main 3D editor canvas
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ToolPanel.tsx  # Editor tools panel
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ PropertyPanel.tsx # Object properties editor
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ AssetLibrary.tsx # Asset library browser
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ TimelineEditor.tsx # Animation timeline
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ PreviewWindow.tsx # Real-time preview
â”‚   â”‚   â”‚   â”œâ”€â”€ tools/             # Editor tools and utilities
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ TransformTool.ts # Move/rotate/scale tools
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ HotspotTool.ts # Hotspot placement tool
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ NavigationTool.ts # Navigation path editor
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ LightingTool.ts # Scene lighting editor
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ CameraTool.ts  # Camera path editor
â”‚   â”‚   â”‚   â”œâ”€â”€ serialization/     # Project save/load
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ProjectSerializer.ts # Save/load project files
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ AssetExporter.ts # Export optimized assets
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ FormatConverter.ts # Convert between formats
â”‚   â”‚   â”‚   â”œâ”€â”€ validation/        # Content validation
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ SceneValidator.ts # Validate 3D scenes
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ AssetValidator.ts # Validate asset integrity
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ TourValidator.ts # Validate tour structure
â”‚   â”‚   â”‚   â””â”€â”€ collaboration/     # Real-time collaboration
â”‚   â”‚   â”‚       â”œâ”€â”€ CollaborationManager.ts # Multi-user editing
â”‚   â”‚   â”‚       â”œâ”€â”€ VersionControl.ts # Change tracking
â”‚   â”‚   â”‚       â””â”€â”€ ConflictResolver.ts # Resolve editing conflicts
â”‚   â”‚   â””â”€â”€ package.json
â”‚   â”‚
â”‚   â”œâ”€â”€ asset-pipeline/            # Asset processing pipeline
â”‚   â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”‚   â”œâ”€â”€ processors/        # Asset processors
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ImageProcessor.ts # Image optimization/conversion
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ VideoProcessor.ts # Video compression/conversion
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ModelProcessor.ts # 3D model optimization
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ AudioProcessor.ts # Audio processing
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ PanoramaProcessor.ts # 360Â° image processing
â”‚   â”‚   â”‚   â”œâ”€â”€ optimization/      # Performance optimization
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ TextureOptimizer.ts # Texture compression
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ GeometryOptimizer.ts # Mesh optimization
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ LODGenerator.ts # Level-of-detail generation
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ BundleOptimizer.ts # Asset bundle optimization
â”‚   â”‚   â”‚   â”œâ”€â”€ conversion/        # Format conversion utilities
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ImageConverter.ts # Image format conversion
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ModelConverter.ts # 3D model format conversion
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ VideoConverter.ts # Video format conversion
â”‚   â”‚   â”‚   â”œâ”€â”€ storage/           # Asset storage management
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ CDNManager.ts  # CDN upload/distribution
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ CacheManager.ts # Asset caching strategies
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ CompressionUtils.ts # Asset compression
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ MetadataManager.ts # Asset metadata handling
â”‚   â”‚   â”‚   â””â”€â”€ quality/           # Quality assurance
â”‚   â”‚   â”‚       â”œâ”€â”€ QualityChecker.ts # Asset quality validation
â”‚   â”‚   â”‚       â”œâ”€â”€ ErrorDetector.ts # Asset error detection
â”‚   â”‚   â”‚       â””â”€â”€ ReportGenerator.ts # Quality reports
â”‚   â”‚   â””â”€â”€ package.json
â”‚   â”‚
â”‚   â””â”€â”€ ar-vr-extensions/          # AR/VR capabilities (future-ready)
â”‚       â”œâ”€â”€ src/
â”‚       â”‚   â”œâ”€â”€ ar/                # Augmented Reality features
â”‚       â”‚   â”‚   â”œâ”€â”€ ARViewer.tsx   # AR tour viewer
â”‚       â”‚   â”‚   â”œâ”€â”€ MarkerDetection.ts # AR marker detection
â”‚       â”‚   â”‚   â”œâ”€â”€ PlaneDetection.ts # Surface detection
â”‚       â”‚   â”‚   â””â”€â”€ ObjectTracking.ts # Object tracking
â”‚       â”‚   â”œâ”€â”€ vr/                # Virtual Reality features
â”‚       â”‚   â”‚   â”œâ”€â”€ VRViewer.tsx   # VR tour viewer
â”‚       â”‚   â”‚   â”œâ”€â”€ HandTracking.ts # Hand gesture tracking
â”‚       â”‚   â”‚   â”œâ”€â”€ GazeTracking.ts # Eye/gaze tracking
â”‚       â”‚   â”‚   â””â”€â”€ SpatialAudio.ts # 3D spatial audio
â”‚       â”‚   â”œâ”€â”€ webxr/             # WebXR integration
â”‚       â”‚   â”‚   â”œâ”€â”€ WebXRManager.ts # WebXR session management
â”‚       â”‚   â”‚   â”œâ”€â”€ DeviceDetection.ts # VR/AR device detection
â”‚       â”‚   â”‚   â””â”€â”€ ControllerInput.ts # VR controller input
â”‚       â”‚   â””â”€â”€ compatibility/     # Cross-platform compatibility
â”‚       â”‚       â”œâ”€â”€ PlatformAdapter.ts # Platform-specific adaptations
â”‚       â”‚       â”œâ”€â”€ FallbackRenderer.ts # Non-VR/AR fallbacks
â”‚       â”‚       â””â”€â”€ PerformanceScaler.ts # Performance scaling
â”‚       â””â”€â”€ package.json
```

## ğŸ—ï¸ Infrastructure & Utilities (`/packages/infrastructure`)

### Cross-Platform Utilities & Services

```
â”œâ”€â”€ infrastructure/
â”‚   â”œâ”€â”€ config-management/         # Configuration management
â”‚   â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”‚   â”œâ”€â”€ environments/      # Environment configurations
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ development.ts # Development config
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ staging.ts     # Staging config
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ production.ts  # Production config
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ testing.ts     # Testing config
â”‚   â”‚   â”‚   â”œâ”€â”€ feature-flags/     # Feature flag system
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ FeatureFlagManager.ts # Feature flag logic
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ RemoteConfig.ts # Remote configuration
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ LocalOverrides.ts # Local development overrides
â”‚   â”‚   â”‚   â”œâ”€â”€ secrets/           # Secret management (non-sensitive structure)
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ SecretManager.ts # Secret loading and management
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ EnvironmentValidator.ts # Validate required secrets
â”‚   â”‚   â”‚   â”œâ”€â”€ app-config/        # Application-specific configs
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ web-config.ts  # Web app configuration
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ mobile-config.ts # Mobile app configuration
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ staff-config.ts # Staff app configuration
â”‚   â”‚   â”‚   â””â”€â”€ hooks/             # Configuration hooks
â”‚   â”‚   â”‚       â”œâ”€â”€ useConfig.ts   # Configuration access hook
â”‚   â”‚   â”‚       â”œâ”€â”€ useFeatureFlag.ts # Feature flag hook
â”‚   â”‚   â”‚       â””â”€â”€ useEnvironment.ts # Environment detection hook
â”‚   â”‚   â””â”€â”€ package.json
â”‚   â”‚
â”‚   â”œâ”€â”€ analytics-core/            # Analytics foundation
â”‚   â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”‚   â”œâ”€â”€ tracking/          # Event tracking system
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ EventTracker.ts # Base event tracking
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ UserBehaviorTracker.ts # User interaction tracking
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ PerformanceTracker.ts # Performance metrics
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ErrorTracker.ts # Error and crash tracking
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ CustomEventTracker.ts # Custom business events
â”‚   â”‚   â”‚   â”œâ”€â”€ collectors/        # Data collectors
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ WebAnalyticsCollector.ts # Web-specific analytics
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ MobileAnalyticsCollector.ts # Mobile analytics
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ TourAnalyticsCollector.ts # Virtual tour analytics
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ BusinessMetricsCollector.ts # Business KPIs
â”‚   â”‚   â”‚   â”œâ”€â”€ processors/        # Data processing
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ DataAggregator.ts # Aggregate raw data
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ MetricsCalculator.ts # Calculate derived metrics
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ AnomalyDetector.ts # Detect unusual patterns
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ ReportGenerator.ts # Generate analytics reports
â”‚   â”‚   â”‚   â”œâ”€â”€ storage/           # Analytics storage
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ LocalStorage.ts # Local analytics storage
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ CloudStorage.ts # Cloud analytics storage
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ DataRetention.ts # Data retention policies
â”‚   â”‚   â”‚   â””â”€â”€ privacy/           # Privacy compliance
â”‚   â”‚   â”‚       â”œâ”€â”€ DataAnonymizer.ts # Anonymize sensitive data
â”‚   â”‚   â”‚       â”œâ”€â”€ ConsentManager.ts # User consent management
â”‚   â”‚   â”‚       â””â”€â”€ GDPRCompliance.ts # GDPR compliance utilities
â”‚   â”‚   â””â”€â”€ package.json
â”‚   â”‚
â”‚   â”œâ”€â”€ notification-system/       # Multi-platform notifications
â”‚   â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”‚   â”œâ”€â”€ providers/         # Notification providers
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ PushNotificationProvider.ts # Push notifications
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ EmailProvider.ts # Email notifications
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ SMSProvider.ts # SMS notifications
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ WebPushProvider.ts # Web push notifications
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ InAppProvider.ts # In-app notifications
â”‚   â”‚   â”‚   â”œâ”€â”€ templates/         # Notification templates
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ EventReminder.ts # Event reminder templates
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ TicketConfirmation.ts # Ticket confirmation
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ EventUpdates.ts # Event update notifications
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ SecurityAlerts.ts # Security-related alerts
â”‚   â”‚   â”‚   â”œâ”€â”€ scheduling/        # Notification scheduling
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ NotificationScheduler.ts # Schedule notifications
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ RecurringNotifications.ts # Recurring reminders
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ DelayedNotifications.ts # Time-delayed notifications
â”‚   â”‚   â”‚   â”œâ”€â”€ personalization/   # Personalized notifications
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ UserPreferences.ts # User notification preferences
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ SmartTiming.ts # Optimal notification timing
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ ContentPersonalization.ts # Personalized content
â”‚   â”‚   â”‚   â””â”€â”€ delivery/          # Notification delivery
â”‚   â”‚   â”‚       â”œâ”€â”€ DeliveryManager.ts # Manage notification delivery
â”‚   â”‚   â”‚       â”œâ”€â”€ RetryManager.ts # Handle failed deliveries
â”‚   â”‚   â”‚       â””â”€â”€ DeliveryTracking.ts # Track delivery status
â”‚   â”‚   â””â”€â”€ package.json
â”‚   â”‚
â”‚   â”œâ”€â”€ security-core/             # Security utilities
â”‚   â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”‚   â”œâ”€â”€ authentication/    # Authentication utilities
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ TokenManager.ts # JWT token management
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ BiometricAuth.ts # Biometric authentication
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ MFAManager.ts  # Multi-factor authentication
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ SSOIntegration.ts # Single sign-on integration
â”‚   â”‚   â”‚   â”œâ”€â”€ encryption/        # Encryption utilities
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ DataEncryption.ts # Data encryption/decryption
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ CryptoUtils.ts # Cryptographic utilities
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ SecureStorage.ts # Secure local storage
â”‚   â”‚   â”‚   â”œâ”€â”€ validation/        # Input validation
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ InputSanitizer.ts # Sanitize user inputs
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ SchemaValidator.ts # Data schema validation
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ SecurityHeaders.ts # HTTP security headers
â”‚   â”‚   â”‚   â”œâ”€â”€ monitoring/        # Security monitoring
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ThreatDetector.ts # Detect security threats
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ AuditLogger.ts # Security audit logging
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ IncidentReporter.ts # Security incident reporting
â”‚   â”‚   â”‚   â””â”€â”€ compliance/        # Compliance utilities
â”‚   â”‚   â”‚       â”œâ”€â”€ DataProtection.ts # Data protection compliance
â”‚   â”‚   â”‚       â”œâ”€â”€ AccessControl.ts # Fine-grained access control
â”‚   â”‚   â”‚       â””â”€â”€ ComplianceReporter.ts # Compliance reporting
â”‚   â”‚   â””â”€â”€ package.json
â”‚   â”‚
â”‚   â”œâ”€â”€ logging-system/            # Comprehensive logging
â”‚   â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”‚   â”œâ”€â”€ loggers/           # Different logger implementations
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ConsoleLogger.ts # Development console logging
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ FileLogger.ts  # File-based logging
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ CloudLogger.ts # Cloud logging service
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ StructuredLogger.ts # Structured JSON logging
â”‚   â”‚   â”‚   â”œâ”€â”€ formatters/        # Log formatting
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ JSONFormatter.ts # JSON log formatting
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ TextFormatter.ts # Human-readable formatting
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ ErrorFormatter.ts # Error stack trace formatting
â”‚   â”‚   â”‚   â”œâ”€â”€ transports/        # Log transport mechanisms
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ HTTPTransport.ts # HTTP log shipping
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ FileTransport.ts # File-based transport
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ StreamTransport.ts # Stream-based transport
â”‚   â”‚   â”‚   â”œâ”€â”€ filters/           # Log filtering
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ LevelFilter.ts # Filter by log level
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ CategoryFilter.ts # Filter by category
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ SensitiveDataFilter.ts # Filter sensitive information
â”‚   â”‚   â”‚   â””â”€â”€ aggregation/       # Log aggregation
â”‚   â”‚   â”‚       â”œâ”€â”€ LogAggregator.ts # Aggregate similar logs
â”‚   â”‚   â”‚       â”œâ”€â”€ MetricsExtractor.ts # Extract metrics from logs
â”‚   â”‚   â”‚       â””â”€â”€ AlertTrigger.ts # Trigger alerts from log patterns
â”‚   â”‚   â””â”€â”€ package.json
â”‚   â”‚
â”‚   â”œâ”€â”€ testing-utilities/         # Testing utilities
â”‚   â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”‚   â”œâ”€â”€ mocks/             # Mock implementations
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ APIMocks.ts    # API endpoint mocks
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ StateMocks.ts  # State management mocks
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ StorageMocks.ts # Storage mocks
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ ServiceMocks.ts # Service layer mocks
â”‚   â”‚   â”‚   â”œâ”€â”€ fixtures/          # Test data fixtures
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ MuseumFixtures.ts # Museum test data
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ EventFixtures.ts # Event test data
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ UserFixtures.ts # User test data
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ TourFixtures.ts # Virtual tour test data
â”‚   â”‚   â”‚   â”œâ”€â”€ helpers/           # Test helper functions
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ RenderHelpers.tsx # Component rendering helpers
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ StateHelpers.ts # State testing helpers
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ APIHelpers.ts  # API testing helpers
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ NavigationHelpers.ts # Navigation testing helpers
â”‚   â”‚   â”‚   â”œâ”€â”€ matchers/          # Custom test matchers
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ CustomMatchers.ts # Domain-specific matchers
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ AccessibilityMatchers.ts # A11y testing matchers
â”‚   â”‚   â”‚   â””â”€â”€ setup/             # Test environment setup
â”‚   â”‚   â”‚       â”œâ”€â”€ TestSetup.ts   # Global test setup
â”‚   â”‚   â”‚       â”œâ”€â”€ DatabaseSetup.ts # Test database setup
â”‚   â”‚   â”‚       â””â”€â”€ MockServerSetup.ts # Mock server configuration
â”‚   â”‚   â””â”€â”€ package.json
â”‚   â”‚
â”‚   â””â”€â”€ deployment-tools/          # Deployment and build utilities
â”‚       â”œâ”€â”€ src/
â”‚       â”‚   â”œâ”€â”€ build/             # Build configuration utilities
â”‚       â”‚   â”‚   â”œâ”€â”€ WebpackConfig.ts # Webpack configuration helpers
â”‚       â”‚   â”‚   â”œâ”€â”€ ViteConfig.ts  # Vite configuration helpers
â”‚       â”‚   â”‚   â”œâ”€â”€ BabelConfig.ts # Babel configuration
â”‚       â”‚   â”‚   â””â”€â”€ ESLintConfig.ts # ESLint configuration
â”‚       â”‚   â”œâ”€â”€ bundling/          # Bundle optimization
â”‚       â”‚   â”‚   â”œâ”€â”€ ChunkStrategy.ts # Code splitting strategies
â”‚       â”‚   â”‚   â”œâ”€â”€ AssetOptimizer.ts # Asset optimization
â”‚       â”‚   â”‚   â”œâ”€â”€ TreeShaking.ts # Dead code elimination
â”‚       â”‚   â”‚   â””â”€â”€ BundleAnalyzer.ts # Bundle analysis tools
â”‚       â”‚   â”œâ”€â”€ deployment/        # Deployment utilities
â”‚       â”‚   â”‚   â”œâ”€â”€ EnvironmentManager.ts # Environment management
â”‚       â”‚   â”‚   â”œâ”€â”€ VersionManager.ts # Version management
â”‚       â”‚   â”‚   â”œâ”€â”€ RollbackManager.ts # Rollback capabilities
â”‚       â”‚   â”‚   â””â”€â”€ HealthChecker.ts # Post-deployment health checks
â”‚       â”‚   â”œâ”€â”€ optimization/      # Performance optimization
â”‚       â”‚   â”‚   â”œâ”€â”€ PWAGenerator.ts # Progressive Web App generation
â”‚       â”‚   â”‚   â”œâ”€â”€ ServiceWorkerBuilder.ts # Service worker building
â”‚       â”‚   â”‚   â”œâ”€â”€ CacheStrategy.ts # Caching strategies
â”‚       â”‚   â”‚   â””â”€â”€ PreloadManager.ts # Resource preloading
â”‚       â”‚   â””â”€â”€ monitoring/        # Deployment monitoring
â”‚       â”‚       â”œâ”€â”€ PerformanceMonitor.ts # Performance monitoring
â”‚       â”‚       â”œâ”€â”€ ErrorMonitor.ts # Error monitoring
â”‚       â”‚       â””â”€â”€ UsageMonitor.ts # Usage analytics
â”‚       â””â”€â”€ package.json
```

## ğŸ”— Package Dependencies by App

### visitor-portal (Next.js)

**Primary Package Dependencies:**

- `@packages/museum-core` - Museum and artifact entities, services
- `@packages/event-core` - Event browsing and booking logic
- `@packages/ticketing-core` - Ticket purchasing functionality
- `@packages/user-management` - User authentication and profiles
- `@packages/design-system` - Design tokens and theming
- `@packages/web-components` - All web UI components
- `@packages/museum-components` - Museum-specific business components
- `@packages/museum-state` - Museum data state management
- `@packages/event-state` - Event booking state
- `@packages/auth-state` - User authentication state
- `@packages/virtual-tour-state` - Virtual tour navigation state
- `@packages/museum-api` - Museum data fetching
- `@packages/event-api` - Event and booking APIs
- `@packages/user-api` - User management APIs
- `@packages/virtual-tour-api` - Virtual tour APIs
- `@packages/tour-engine` - 360Â° tour viewer
- `@packages/config-management` - App configuration
- `@packages/analytics-core` - User behavior tracking

**Usage Notes:**

- Focuses on public-facing museum and event discovery
- Heavy use of virtual tour components for immersive experiences
- Optimized for SEO and conversion (booking flow)
- Uses Next.js App Router for optimal performance and SEO

### visitor-mobile (Expo React Native)

**Primary Package Dependencies:**

- `@packages/museum-core` - Same core business logic as web
- `@packages/event-core` - Event logic (shared with web)
- `@packages/ticketing-core` - Mobile ticket management
- `@packages/user-management` - User auth (shared with web)
- `@packages/design-system` - Shared design tokens
- `@packages/mobile-components` - Mobile-optimized UI components
- `@packages/museum-components` - Business components (mobile versions)
- `@packages/museum-state` - Shared state with web app
- `@packages/event-state` - Shared booking state
- `@packages/auth-state` - Shared auth state
- `@packages/museum-api` - Same API layer as web
- `@packages/event-api` - Same event APIs
- `@packages/user-api` - Same user APIs
- `@packages/tour-engine` - Mobile-optimized tour viewer
- `@packages/config-management` - Mobile app configuration
- `@packages/analytics-core` - Mobile analytics tracking

**Usage Notes:**

- Shares core business logic and state with web visitor portal
- Includes mobile-specific features: camera, GPS, push notifications
- Offline-first approach for ticket storage and viewing
- Native performance for 3D/360Â° experiences

### museum-dashboard (Next.js)

**Primary Package Dependencies:**

- `@packages/museum-core` - Full museum management capabilities
- `@packages/event-core` - Complete event management with workflows
- `@packages/ticketing-core` - Ticket sales and validation management
- `@packages/user-management` - Staff and organizational management
- `@packages/design-system` - Professional dashboard theming
- `@packages/web-components` - Complex dashboard UI components
- `@packages/museum-components` - All museum business components
- `@packages/museum-state` - Museum management state
- `@packages/event-state` - Event management workflows
- `@packages/auth-state` - Staff authentication and permissions
- `@packages/museum-api` - Museum management APIs
- `@packages/event-api` - Event management APIs
- `@packages/user-api` - Staff management APIs
- `@packages/virtual-tour-api` - Tour management APIs
- `@packages/editor-engine` - 3D/360Â° content editor
- `@packages/asset-pipeline` - Asset processing and optimization
- `@packages/config-management` - Dashboard configuration
- `@packages/analytics-core` - Business analytics and reporting
- `@packages/notification-system` - Staff and customer notifications

**Usage Notes:**

- Most complex app with full CRUD operations
- Heavy use of workflow components for event approval processes
- Integrates 3D editor for creating virtual tours
- Advanced analytics and reporting capabilities
- Role-based access control throughout

### staff-mobile (Expo React Native)

**Primary Package Dependencies:**

- `@packages/event-core` - Event monitoring and management
- `@packages/ticketing-core` - Ticket validation and scanning
- `@packages/user-management` - Staff authentication and roles
- `@packages/design-system` - Consistent mobile theming
- `@packages/mobile-components` - Mobile UI optimized for staff workflows
- `@packages/museum-components` - Staff-specific business components
- `@packages/event-state` - Real-time event state management
- `@packages/auth-state` - Staff authentication state
- `@packages/event-api` - Event management APIs
- `@packages/user-api` - Staff APIs
- `@packages/config-management` - Staff app configuration
- `@packages/security-core` - Enhanced security for staff operations

**Usage Notes:**

- Specialized for staff operational tasks
- Heavy use of camera for QR/barcode scanning
- Offline capability for ticket validation during network issues
- Real-time updates for event capacity and attendance
- Biometric authentication for secure access

### system-dashboard (Next.js)

**Primary Package Dependencies:**

- `@packages/user-management` - Global user and organization management
- `@packages/design-system` - Admin-focused design system
- `@packages/web-components` - Administrative UI components
- `@packages/auth-state` - Super admin authentication
- `@packages/user-api` - User management APIs
- `@packages/config-management` - System-wide configuration
- `@packages/analytics-core` - Platform-wide analytics
- `@packages/security-core` - Advanced security monitoring
- `@packages/logging-system` - System-wide logging and monitoring
- `@packages/notification-system` - System notifications

**Usage Notes:**

- Highest-level administrative interface
- Multi-tenant organization management
- Platform-wide monitoring and analytics
- Security audit and compliance tools
- Feature flag and system configuration management

## ğŸ”„ State Sharing Strategy

### Cross-Platform State Sharing

- `museum-state`, `event-state`, `auth-state` packages are shared between web and mobile visitor apps
- State persistence ensures consistent experience across platforms
- Real-time synchronization for booking cart and user preferences

### Role-Based State Management

- Visitor apps share user-focused state (favorites, bookings, profiles)
- Staff apps share operational state (event monitoring, capacity tracking)
- Admin apps use system-wide state (organization management, platform analytics)

### Offline-First Considerations

- Mobile apps prioritize offline capability with background sync
- Critical data (tickets, user profiles) cached locally
- Graceful degradation when network unavailable

## ğŸ“¦ Shared Component Strategy

### UI Component Hierarchy

1. **design-system**: Foundation (tokens, themes)
2. **web-components/mobile-components**: Platform-specific primitives
3. **museum-components**: Business logic components (platform-agnostic logic, platform-specific rendering)

### Business Component Sharing

- Museum display components shared across visitor and dashboard apps
- Event components shared but with different permission levels
- Ticket components adapted for different user roles (visitor vs staff)

This structure maximizes code reuse while maintaining clear separation of concerns and enabling efficient development across all platform touchpoints.
